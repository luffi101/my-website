<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - Historical Data Management</title>
  <link rel="stylesheet" href="styles.css">

  <!-- Firebase SDK (compat versions) -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

  <!-- PapaParse for CSV import/export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

  <!-- Firebase Config & Auth -->
  <script src="firebase-config.js"></script>
  <script src="auth.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="timeline-header">
    <div class="header-top">
      <div class="header-title">
        <h1>Admin Panel</h1>
        <p>Manage historical figures and global events</p>
      </div>
      <nav class="nav-links">
        <a href="index.html" class="nav-link">Home</a>
        <a href="journal.html" class="nav-link">Journal</a>
        <a href="timeline.html" class="nav-link">Timeline</a>
        <a href="admin.html" class="nav-link active">Admin</a>
      </nav>
      <div id="auth-info"></div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="admin-container">
    <!-- Tabs -->
    <div class="admin-tabs">
      <button class="admin-tab active" data-tab="figures">Historical Figures</button>
      <button class="admin-tab" data-tab="events">Global Events</button>
    </div>

    <!-- Toolbar -->
    <div class="admin-toolbar">
      <div class="search-container">
        <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
        <input type="text" id="admin-search" class="search-input" placeholder="Search records...">
      </div>

      <div class="admin-toolbar-group">
        <select id="filter-category" class="admin-select">
          <option value="">All Categories</option>
          <option value="Politics & Military">Politics & Military</option>
          <option value="Science">Science</option>
          <option value="Economy">Economy</option>
          <option value="Visual Arts">Visual Arts</option>
          <option value="Music">Music</option>
          <option value="Literature">Literature</option>
          <option value="Philosophy">Philosophy</option>
          <option value="Religion">Religion</option>
          <option value="Exploration & Discovery">Exploration & Discovery</option>
          <option value="Sport & Athletics">Sport & Athletics</option>
        </select>
        <select id="filter-region" class="admin-select">
          <option value="">All Regions</option>
          <option value="North America">North America</option>
          <option value="South America">South America</option>
          <option value="Europe">Europe</option>
          <option value="Africa">Africa</option>
          <option value="Middle East">Middle East</option>
          <option value="East Asia">East Asia</option>
          <option value="South Asia">South Asia</option>
          <option value="Central Asia">Central Asia</option>
          <option value="Australia">Australia</option>
        </select>
      </div>

      <div class="admin-toolbar-group">
        <button id="btn-add-new" class="admin-btn admin-btn-primary">+ Add New</button>
        <label class="admin-file-label" id="csv-import-label">
          <input type="file" id="csv-file-input" class="admin-file-input" accept=".csv">
          Import CSV
        </label>
        <button id="btn-export-csv" class="admin-btn admin-btn-secondary">Export CSV</button>
        <button id="btn-delete-all" class="admin-btn admin-btn-danger">Delete All</button>
      </div>
    </div>

    <!-- Stats -->
    <div id="admin-stats" class="admin-stats"></div>

    <!-- Table -->
    <div class="admin-table-wrapper">
      <table class="admin-table">
        <thead id="admin-thead"></thead>
        <tbody id="admin-tbody"></tbody>
      </table>
    </div>
  </main>

  <!-- Modal Container (populated by JS) -->
  <div id="modal-container"></div>

  <!-- Admin JS -->
  <script src="admin.js"></script>

  <footer>
    <p>&copy; <span id="currentYear"></span> Edward C Yang. All rights reserved.</p>
  </footer>
  <script src="common.js"></script>
</body>
</html>
